Ext.define('Ayushman.controller.cdm.PatientDetailsController', { extend : 'Ayushman.common.baseclasses.controller.BaseController',   config: 	 {		nameSpacePrefix: 'Ayushman.view.cdm.',		patientId: null	 },	 	createInstanceOfView: function()	{		this.callParent();				var patientsGeneralDetailsStore = Ext.getStore('PatientsGeneralDetailsStore');		var patientGeneralInfo = patientsGeneralDetailsStore.getById(this.getPatientId());				//TODO: Remove this hardcoded array		var generalInfoKeysObject = { alcohol_c : 'Alcoholic', coffe_c : 'Coffee', gender_c : 'Gender', dob_c : 'DOB', bloodgroup_c : 'Blood Group', smoking_c : 'Smoking',									 maritalstatus_c : 'Marital Status', tobacco_c : 'Tobacco', diet_c : 'Diet', mobileno_c : 'Mobile Number' };				for (var key in generalInfoKeysObject) 		{			//check if value is not null or not empty			if(patientGeneralInfo.get(key))			{				var patientsGeneralInfoComponentControllerInstance = Ext.create('Ayushman.controller.cdm.components.PatientsGeneralInfoKeyValueComponentController', 																		{ globalControllerInstance : this.getGlobalControllerInstance(), keyLabel: generalInfoKeysObject[key], valueLabel : patientGeneralInfo.get(key)});				var patientsGeneralInfoComponentViewInstance = patientsGeneralInfoComponentControllerInstance.getViewInstance();				this.getViewInstance().getComponent('patientsDetailsMainContainer').getComponent('generalInfoSection').getComponent('patientHabitsDetailsContainer').add(patientsGeneralInfoComponentViewInstance);			}				}						var createRegimenStore = Ext.getStore('CreateRegimenStore');		createRegimenStore.setRemoteFilter(false);		createRegimenStore.clearFilter();			createRegimenStore.filter([				{property: "patient_id", value: this.getPatientId()}			]);					createRegimenStore.each(function (item, index, length) {				var planId = item.get('id');				var startDate = item.get('start_date');				var endDate = item.get('end_date');								var previousPlansListItemControllerInstance = Ext.create('Ayushman.controller.cdm.components.PreviousPlansListItemComponentController', 																			{ 																				globalControllerInstance : this.getGlobalControllerInstance(),																				planId: planId,																				startDate: startDate,																				endDate: endDate																			});				var previousPlansListItemViewInstance = previousPlansListItemControllerInstance.getViewInstance();				this.getViewInstance().getComponent('patientsDetailsMainContainer').getComponent('previousPlansSection').add(previousPlansListItemViewInstance);			}, this);					// following code is required to maintain the original state of CreateRegimenStore store						createRegimenStore.clearFilter();			createRegimenStore.setRemoteFilter(true);			var doctorCredentialsStore = Ext.getStore('UserCredentials');			var doctorsDetails = doctorCredentialsStore.getAt(0);			createRegimenStore.filter([					{property: "doctor_id", value: doctorsDetails.get('roleSpecificId')}				]);			},		tap_createRegimenButton: function()	{		console.log("Inside createRegimenButton");		var selectPeriodAndGoalForRegimenControllerInstance = Ext.create('Ayushman.controller.cdm.SelectPeriodAndGoalForRegimenController', { globalControllerInstance: this.getGlobalControllerInstance(), patientId: this.getPatientId() });		var selectPeriodAndGoalForRegimenViewInstance = selectPeriodAndGoalForRegimenControllerInstance.getViewInstance();		this.getGlobalControllerInstance().getViewInstance().getComponent('iohFrameViewInnerContainer').add(selectPeriodAndGoalForRegimenViewInstance);		this.getGlobalControllerInstance().getViewInstance().getComponent('iohFrameViewInnerContainer').setActiveItem(selectPeriodAndGoalForRegimenViewInstance);	},		destroy: function()	{		// do the cleanup here				this.callParent();				this.setNameSpacePrefix(null);	}	});